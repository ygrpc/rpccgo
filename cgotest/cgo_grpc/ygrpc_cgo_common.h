// Code generated by protoc-gen-rpc-cgo. DO NOT EDIT.

#ifndef YGRPC_CGO_COMMON_H
#define YGRPC_CGO_COMMON_H

#include <stdint.h>
#include <stddef.h>
#include <stdlib.h>

typedef void (*FreeFunc)(void*);

extern void Ygrpc_Free(void* ptr);
extern int Ygrpc_GetErrorMsg(int error_id, void** msg_ptr, int* msg_len, FreeFunc* msg_free);

static inline void call_free_func(FreeFunc fn, void* ptr) {
    if (fn) fn(ptr);
}

typedef void (*OnReadBytesFunc)(void* resp_ptr, int resp_len, FreeFunc resp_free, void* user_data);
typedef void (*OnDoneFunc)(int error_id, void* user_data);

static inline void call_on_read_bytes(void* fn, void* resp_ptr, int resp_len, FreeFunc resp_free, void* user_data) {
    if(fn) ((OnReadBytesFunc)fn)(resp_ptr, resp_len, resp_free, user_data);
}

static inline void call_on_done(void* fn, int error_id, void* user_data) {
    if(fn) ((OnDoneFunc)fn)(error_id, user_data);
}

#endif
